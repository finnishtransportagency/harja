{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "suunnitellut-kustannukset": {
      "type": "object",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "urakka": {
            "type": "integer",
            "description": "Harjan urakka-id. Tämä skeema on relevantti vain maanteiden hoidon urakoissa."
          },
          "urakkatunnus": {
            "type": "string",
            "description": "Urakasta eri järjestelmissä ja geometria-aineistoissa käytetty tunniste. Uudemmissa urakoissa sama kuin urakan Sampo-id, vanhemmissa urakoissa tunnisteena käytetään alueurakkanumeroa."
          }
        },
        "kiinteat-kustannukset": {
          "type": "object",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "kiintea-kustannus": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "kustannus-id": {
                    "type": "integer",
                    "description": "Kustannusrivin id Harjassa."
                  },
                  "ajankohta": {
                    "type": "object",
                    "properties": {
                      "vuosi": {
                        "type": "integer",
                        "description": "Kalenterivuosi jota suunniteltu kustannus koskee."
                      },
                      "kuukausi": {
                        "type": "integer",
                        "description": "Kalenterikuukausi jota suunniteltu kustannus koskee."
                      },
                      "required": [
                        "vuosi",
                        "kuukausi"
                      ]
                    },
                    "kustannus": {
                      "type": "object",
                      "properties": {
                        "summa": {
                          "type": "number",
                          "description": "Suunniteltu kustannus. Yksikkö: euro."
                        },
                        "indeksikorjattu-summa": {
                          "type": "number",
                          "description": "Suunniteltu summa indeksikorjattuna. Yksikkö: euro."
                        },
                        "indeksikorjauksen-vahvistusajankohta": {
                          "type": "string",
                          "format": "datetime",
                          "description": "Ajankohta jolloin indeksikorjaus on hyväksytty. Jos tyhjä, ei indeksikorjausta kustannukselle ole vielä hyväksytty."
                        },
                        "required": [
                          "indeksikorjattu-summa",
                          "kuukausi"
                        ]
                      },
                      "kohdistus": {
                        "type": "object",
                        "properties": {
                          "toimenpide": {
                            "type": "integer",
                            "description": "Harjan toimenpide-id."
                          },
                          "rahavaraus": {
                            "type": "integer",
                            "description": "Harjan rahavaraus-id."
                          },
                          "tehtavaryhma": {
                            "type": "integer",
                            "description": "Harjan tehtavaryhma-id."
                          },
                          "tehtava": {
                            "type": "integer",
                            "description": "Harjan tehtava-id."
                          },
                          "required": [
                            "toimenpide"
                          ]
                        }
                      },
                      "versio": {
                        "type": "integer",
                        "description": "Kustannuksen versio. Käytetään tulevaisuudessa kustannuksen muutoshistorian seuraamiseen."
                      },
                      "required": [
                        "id",
                        "ajankohta",
                        "kustannus",
                        "kohdistus",
                        "versio"
                      ]
                    }
                  }
                }
              }
            },
            "arvioidut-kustannukset": {
              "type": "object",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "arvioitu-kustannus": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "kustannus-id": {
                        "type": "integer",
                        "description": "Kustannusrivin id Harjassa."
                      },
                      "ajankohta": {
                        "type": "object",
                        "properties": {
                          "vuosi": {
                            "type": "integer",
                            "description": "Kalenterivuosi jota suunniteltu kustannus koskee."
                          },
                          "kuukausi": {
                            "type": "integer",
                            "description": "Kalenterikuukausi jota suunniteltu kustannus koskee."
                          },
                          "required": [
                            "vuosi",
                            "kuukausi"
                          ]
                        },
                        "kustannus": {
                          "type": "object",
                          "properties": {
                            "summa": {
                              "type": "number",
                              "description": "Suunniteltu kustannus. Yksikkö: euro."
                            },
                            "indeksikorjattu-summa": {
                              "type": "number",
                              "description": "Suunniteltu summa indeksikorjattuna. Yksikkö: euro."
                            },
                            "indeksikorjauksen-vahvistusajankohta": {
                              "type": "string",
                              "format": "datetime",
                              "description": "Ajankohta jolloin indeksikorjaus on hyväksytty. Jos tyhjä, ei indeksikorjausta kustannukselle ole vielä hyväksytty."
                            },
                            "required": [
                              "indeksikorjattu-summa",
                              "kuukausi"
                            ]
                          },
                          "kohdistus": {
                            "type": "object",
                            "properties": {
                              "toimenpide": {
                                "type": "integer",
                                "description": "Harjan toimenpide-id."
                              },
                              "rahavaraus": {
                                "type": "integer",
                                "description": "Harjan rahavaraus-id."
                              },
                              "tehtavaryhma": {
                                "type": "integer",
                                "description": "Harjan tehavaryhma-id."
                              },
                              "tehtava": {
                                "type": "integer",
                                "description": "Harjan tehtava-id."
                              }
                            },
                            "required": [
                              "toimenpide"
                            ]
                          },
                          "versio": {
                            "type": "integer",
                            "description": "Kustannuksen versio. Käytetään tulevaisuudessa kustannuksen muutoshistorian seuraamiseen."
                          },
                          "required": [
                            "id",
                            "ajankohta",
                            "kustannus",
                            "kohdistus",
                            "versio"
                          ]
                        }
                      }
                    }
                  }
                },
                "johto-ja-hallintokorvaukset": {
                  "type": "object",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "johto-ja-hallintokorvaus": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "kustannus-id": {
                            "type": "integer",
                            "description": "Kustannusrivin id Harjassa"
                          },
                          "toimenkuva": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "Harjan toimenkuva-id."
                              },
                              "nimi": {
                                "type": "integer",
                                "description": "Harjan toimenkuva-nimi."
                              }
                            },
                            "required": [
                              "id"
                            ]
                          },
                          "toimenkuvan-ajankohta": {
                            "type": "object",
                            "properties": {
                              "vuosi": {
                                "type": "integer",
                                "description": "Kalenterivuosi jolloin toimenkuva synnyttää kustannuksia."
                              },
                              "kuukausi": {
                                "type": "integer",
                                "description": "Kalenterikuukausi jolloin toimenkuva synnyttää kustannuksia."
                              },
                              "ennen-urakkaa": {
                                "type": "boolean",
                                "description": "True = Toimenkuva on relevantti ennen urakan alkua, vaikka kustannus kohdistetaan ensimmäisen hoitovuoden lokakuulle. False = Toimenkuva synnyttää kustannuksia urakan aikana."
                              },
                              "required": [
                                "vuosi",
                                "kuukausi",
                                "ennen-urakkaa"
                              ]
                            },
                            "toimenkuvan-kustannus": {
                              "type": "object",
                              "properties": {
                                "tunnit": {
                                  "type": "number",
                                  "description": "Toimenkuvaan liittyvien työtuntien määrä ajankohdan kuluessa."
                                },
                                "tuntipalkka": {
                                  "type": "number",
                                  "description": "Toimdenkuvan tuntipalkka"
                                },
                                "osa-kuukaudesta": {
                                  "type": "number",
                                  "description": "Kerroin joka ilmaisee lasketaanko palkka koko kuukauden ajalta. Esim. 0.5 = puolet kuukaudesta. Yleensä 1."
                                },
                                "summa": {
                                  "type": "number",
                                  "description": "Toimenkuvan suunniteltu kustannus. Yksikkö: euro."
                                },
                                "indeksikorjattu-summa": {
                                  "type": "number",
                                  "description": "Toimenkuvan suunniteltu summa indeksikorjattuna. Yksikkö: euro."
                                },
                                "indeksikorjaus_vahvistettu": {
                                  "type": "string",
                                  "format": "date-time",
                                  "description": "The confirmation date and time of the index correction."
                                },
                                "required": [
                                  "tunnit",
                                  "tuntipalkka",
                                  "osa-kuukaudesta",
                                  "summa",
                                  "indeksikorjattu-summa"
                                ]
                              },
                              "kohdistus": {
                                "type": "object",
                                "properties": {
                                  "toimenpide": {
                                    "type": "integer",
                                    "description": "Harjan toimenpide-id. Johto- ja hallintokorvauksissa toimenpide on aina MHU HOIDONJOHTO (toimenpidekoodi: 23151)."
                                  },
                                  "rahavaraus": {
                                    "type": "integer",
                                    "description": "Harjan rahavaraus-id."
                                  },
                                  "tehtavaryhma": {
                                    "type": "integer",
                                    "description": "Harjan tehavaryhma-id."
                                  },
                                  "tehtava": {
                                    "type": "integer",
                                    "description": "Harjan tehtava-id."
                                  }
                                },
                                "required": [
                                  "toimenpide"
                                ]
                              },
                              "versio": {
                                "type": "integer",
                                "description": "Kustannuksen versio. Käytetään tulevaisuudessa kustannuksen muutoshistorian seuraamiseen."
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
